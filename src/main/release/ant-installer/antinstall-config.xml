<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE installer PUBLIC "-//tp23 //DTD Ant Installer Config//EN" "http://antinstaller.sf.net/dtd/antinstall-config-0.8.dtd">
<installer
			ui			        ="swing,text,swing-auto,text-auto"
            loadDefaults        ="prompt"
			verbose		        ="true"
			debug		        ="true"
			lookAndFeel	        ="org.tp23.jgoodies.plaf.plastic.PlasticXPLookAndFeel"
			name		        ="Upgrade-Server Installation"
			windowIcon	        ="/resources/icons/logoIcon.gif"
			defaultImageResource="/resources/makewavesdawn.png"
			minJavaVersion      ="1.6"
            version             ="1.0">
			
	<!--  The target "extract" must be called first, so it is defined on the first page -->
	<page
			type		="input"
			name		="intro"
			displayText	="Willkommen zur Upgrade-Server Installation"
			target		="extract">
        <comment displayText="" bold="true" explanatoryText="Dieser Assistent hilft Ihnen bei der Installation sowie Konfiguration des Servers."/>
        <comment displayText="Hinweis: " bold="true"/>
        <comment displayText="" explanatoryText="Wenn dies ein Update ist, dann können die Einstellungen der vorherigen Installation verwendet werden. Dazu muss sich die Datei 'ant.install.properties' im gleichen Verzeichnis wie der Installer befinden. Es empfiehlt sich daher, die Updates immer vom gleichen Verzeichnis auszuführen."/>
	</page>
    
    <page
            type        ="input"
            name        ="componentOptions"
            displayText ="Einstellungen fuer den Upgrade-Server"
            target      ="config">
            
            <comment displayText="" explanatoryText="Lokaler Port, unter dem der Upgrade-Server laufen soll. Lokal kann der Upgrade-Server dann per http://localhost:PORT aufgerufen werden."/>           
            <text property="localServerPort" displayText="Lokaler Port für den Server:" defaultValue="8084"/>
            <comment displayText="" explanatoryText="Geben Sie hier das Verzeichnis an, dass die zu verwaltenden Dateien bereithält. Es können *.zip und *.jar in dieses Verzeichnis kopiert werden, die dann vom Upgrade-Server aufgenommen und verwaltet werden."/>           
            <text property="sourceDir" displayText="Verzeichnis für Distributionen:" defaultValue="./distributions"/>
            <comment displayText="" explanatoryText="Externe URL unter der der Upgrade-Server erreichbar ist. Diese URL wird für die Linkgenerierung benötigt, so dass diese auf eine gültige Adresse verweisen. Befindet sich der Server bspw. hinter einer Weiterleitung eines Apache-Servers, so muss die externe erreichbare URL angegeben werden, da sie nicht automatisch ermittelt werden kann."/>           
            <text property="externalUrl" displayText="Externe URL:" defaultValue="http://www.portalu.de/update"/>
    </page>

	<!--  type="input" shows a list of editable options for the installer -->
	<page
			type		="input"
			name		="properties"
			displayText	="Benötigte Installationsoptionen">
		<directory
				property		="installDir"
				defaultValue	="/opt/ingrid/${project.artifactId}-${project.version}"
				defaultValueWin	="${env.ProgramFiles}\${project.artifactId}-${project.version}"
				displayText		="Installationsverzeichnis"
				create			="true"/>
		<!--
		<target
			target		="startIPlug"
			displayText = ""
			explanatoryText	="Start des iPlugs nach der Installation"
			defaultValue="false">
		</target>
		-->
	</page>

	<page
			type		="progress"
			name		="progress"
			displayText	="Installationsfortschritt"
			showTargets	="true"
			target		="info">
	</page>
</installer>


